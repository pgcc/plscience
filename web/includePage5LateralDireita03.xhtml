<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui">

    <!--ESSA PAGINA E INCLUIDA NA PAGINA definePage13EditArtifact-->
    <!--LATERAL DO EDITAR ARTEFATO-->

    <br />
    <div id="lateral">
        <!-- TIME-LINE-INICIO -->
        <p:accordionPanel activeIndex="#{central.artifactController.perceptionBoxController.numAbaAbertaATED}"
                          multiple="true">
            <p:tab title="Last Tasks Performed">
                <h:form id="formID52">
                     <p:carousel itemStyle="height: 120px; width:160px;" numVisible="2"
                            value="#{central.artifactController.perceptionBoxController.usersATED}" var="user" headerText="TimeLine">
                    <h:panelGrid columns="1" style="width:300px;  height:100px;"
                                 cellpadding="5">
                        <h:panelGrid columns="2">
                            <h:panelGrid columns="3">
                                <p:graphicImage width="5px;" height="20"
                                                value="/resources/images/campoVirtual.png"
                                                style="text-align:center;" />

                                <p:graphicImage width="40" height="40"
                                                value="/resources/images/users/#{user.nomeFoto}.png"
                                                style="text-align:center;" />
                                <p:graphicImage width="5px;"
                                                value="/resources/images/campoVirtual.png"
                                                style="text-align:center;" />

                            </h:panelGrid>
                            <h:panelGrid columns="1">                                   
                                <h:outputText value="#{user.nameScientist}" />
                                <h:outputText value=" #{user.institutionScientist}" />
                            </h:panelGrid>

                        </h:panelGrid>

                        <h:panelGrid columns="3">
                            <p:graphicImage width="10px;" height="20"
                                            value="/resources/images/campoVirtual.png"
                                            style="text-align:center;" />

                            <h:outputText style="font-size: 10px;" value="#{user.description}" />
                        </h:panelGrid>
                        <h:panelGrid columns="4">
                            <p:graphicImage width="10px;" height="20"
                                            value="/resources/images/campoVirtual.png"
                                            style="text-align:center;" />

                            <h:outputText value="#{user.data}" />
                            <h:outputText value=" - " />
                            <h:outputText value="#{user.hora}" />
                        </h:panelGrid>
                    </h:panelGrid>
                </p:carousel>
                </h:form>
            </p:tab>
            <!-- TIME-LINE-FIM -->
            <!-- BUSCA-ANTOLOGICA-INICIO -->
            <p:tab title="Ontological Research">
                <h:form id="formID58">
                    <h:panelGrid columns="1">
                        <h:outputText style="font-weight: bold;" value="Query By Terms" />
                        <h:panelGrid columns="3">
                            
                            <h:inputText value="#{central.artifactController.perceptionBoxController.fieldTerms}" alt="Research" />                            
                            <h:commandButton style="font-size: 12px;" type="submit" id="wklwm76ye"
                                             value="Go!" action="#{central.artifactController.perceptionBoxController.queryTerms()}" />
                        </h:panelGrid>
                        <h:outputText style="font-weight: bold;" value=" Sparql Query:" />
                         <h:panelGrid columns="3">
                            
                             <h:inputTextarea cols="30" rows="10" value="#{central.artifactController.perceptionBoxController.sparqlfield}"></h:inputTextarea>                          
                            <h:commandButton style="font-size: 12px;" type="submit" id="wklwmlkm5"
                                             value="Go!" action="#{central.artifactController.perceptionBoxController.sparqlQuery()}" />
                        </h:panelGrid>
                    </h:panelGrid>
                </h:form>
            </p:tab>
            <!-- BUSCA-ANTOLOGICA-FIM -->
            <!-- USUARIOS-UTILIZOU-ESSE-ARTEFATO-FIM -->
            <p:tab title="Scientist have already done this Activity">
                <h:form id="formID54">
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaUserAATED == true}">
                        <p:dataTable var="xen"
                                     value="#{central.artifactController.perceptionBoxController.listAnrafelSQL07ATED}">
                            <f:facet name="header">
                                Scientist have already done this Activity
                            </f:facet>
                            <p:column style="width:49%">
                                <f:facet name="header">  
                                    Name 
                                </f:facet>
                                <h:outputText value="#{xen.nameScientist}" />
                            </p:column>
                            <p:column style="width:49%">
                                <f:facet name="header">  
                                    Institution 
                                </f:facet>
                                <h:outputText value="#{xen.institutionScientist}" />
                            </p:column>
                            <p:column style="width:49%">
                                <f:facet name="header">  
                                    View
                                </f:facet>
                                <h:commandLink style="font-size: 12px;" type="submit"
                                               id="incluir22" value="View"
                                               action="#{central.artifactController.perceptionBoxController.includeUsuarioATED()}">
                                    <f:param value="#{xen.idRationale}" id="idRationale"
                                             name="idRationale" />
                                </h:commandLink>
                            </p:column>
                        </p:dataTable>
                    </c:if>
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaUserAATED == false}">
                        <ui:include src="#{central.artifactController.perceptionBoxController.viewBoxIIIATED}" />
                    </c:if>
                </h:form>
            </p:tab>
            <!-- USUARIOS-UTILIZOU-ESSE-ARTEFATO-FIM -->
            <!-- PRODUTOS-FEITOS-COM-ESSE-ARTEFATO-INICIO -->
            <p:tab title="Products built from this Artifact">
                <h:form id="formID55">
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaUserBATED == true}">
                        <p:dataTable var="xw"
                                     value="#{central.artifactController.perceptionBoxController.listAnrafelSQL08ATED}">
                            <f:facet name="header">
                                Scientist have already done this Activity
                            </f:facet>
                            <p:column style="width:49%">
                                <f:facet name="header">  
                                    Name 
                                </f:facet>
                                <h:outputText value="#{xw.nameScientist}" />
                            </p:column>
                            <p:column style="width:49%">
                                <f:facet name="header">  
                                    Product 
                                </f:facet>
                                <h:outputText value="#{xw.productName}" />
                            </p:column>
                            <p:column style="width:49%">
                                <f:facet name="header">  
                                    View
                                </f:facet>
                                <h:commandLink style="font-size: 12px;" type="submit"
                                               id="incluir22" value="View"
                                               action="#{central.artifactController.perceptionBoxController.includeUsuarioATED()}">
                                    <f:param value="#{xw.idRationale}" id="idArtifact"
                                             name="idArtifact" />
                                </h:commandLink>
                            </p:column>
                        </p:dataTable>
                    </c:if>
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaUserBATED == false}">
                        <ui:include src="#{central.artifactController.perceptionBoxController.viewBoxIIIATED}" />
                    </c:if>
                </h:form>
            </p:tab>
            <!-- PRODUTOS-FEITOS-COM-ESSE-ARTEFATO-FIM -->
            <!-- PRODUÇÃO DE NOTAS-INICIO -->
            <p:tab disabled="" title="Notes">

                <h:form id="formID56">
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaIATED == true}">
                        <h:commandButton style="font-size: 12px;" type="submit"
                                         id="incluir" value="Include Note"
                                         action="#{central.artifactController.perceptionBoxController.includeNoteATED()}" />
                    </c:if>
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaIATED == false}">
                        <ui:include src="#{central.artifactController.perceptionBoxController.viewBoxATED}" />
                    </c:if>
                </h:form>
            </p:tab>
            <!-- PRODUÇÃO DE NOTAS-FIM -->
            <!-- COMUNICAÇÃO INICIO-->
            <p:tab closable="false" title="Communication">
                <h:form id="formID57">
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaIIATED == true}">
                        <p:dataTable id="multiart" var="art"
                                     style="position: relative; width: auto;"
                                     value="#{central.artifactController.perceptionBoxController.mediumUserModelATED}" paginator="true"
                                     rows="4" selection="#{central.artifactController.perceptionBoxController.selectedUserModelATED}">
                            <p:column selectionMode="single" style="width:2%" />
                            <p:column headerText="Name:" style="width:5%">  
                                #{art.nameScientist}  
                            </p:column>
                            <p:column headerText="Type" style="width:25%">  
                                #{art.institutionScientist}  
                            </p:column>
                            <f:facet name="footer">
                                <h:commandButton
                                    style="position:relative; text-align:  left; font-size: 12px;"
                                    type="submit" id="edit" value="Talk to this user"

                                    action="#{central.artifactController.perceptionBoxController.buscaUserMSGATED}">
                                </h:commandButton>
                            </f:facet>
                        </p:dataTable>
                    </c:if>
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaIIATED == false}">
                        <ui:include src="#{central.artifactController.perceptionBoxController.viewBoxIIATED}" />
                    </c:if>
                    <c:if test="#{central.artifactController.perceptionBoxController.habilitaMSGATED == true}">
                        <div id="msgout">
                            <ui:include src="#{central.artifactController.perceptionBoxController.mostraMensagemGeral3ATED}" />
                        </div>
                    </c:if>
                </h:form>
            </p:tab>
            <!-- COMUNICAÇÃO-FIM -->
        </p:accordionPanel>
    </div>
</ui:composition>